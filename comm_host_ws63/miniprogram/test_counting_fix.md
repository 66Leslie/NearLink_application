# å°ç¨‹åºè®¡æ•°é—®é¢˜ä¿®å¤éªŒè¯

## ðŸ› é—®é¢˜æè¿°

**çŽ°è±¡**ï¼šå°ç¨‹åºæ¯æ¬¡ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œposition0çš„è®¡æ•°éƒ½ä¼šè‡ªå¢ž1ï¼Œå³ä½¿æ²¡æœ‰æ‰«æåˆ°ä»»ä½•ç‰©å“ã€‚

**æ—¥å¿—ç¤ºä¾‹**ï¼š
```
æ”¶åˆ°UDPæ¶ˆæ¯: 000 æ¥è‡ª: {address: "192.168.43.80", family: "IPv4", port: 5566, size: 3}
æ”¶åˆ°æ•°å­—IDä¿¡æ¯: 000
æ ¹æ®æ•°å­—IDæ›´æ–°åˆ†æ‹£è®¡æ•°: {position0: 5, position1: 0, position2: 0}
```

## ðŸ” é—®é¢˜åˆ†æž

### æ ¹æœ¬åŽŸå› 
1. **é€šä¿¡æœºåˆå§‹çŠ¶æ€**ï¼š`expressBoxNum` åˆå§‹åŒ–ä¸º `{'0', '0', '0'}`ï¼Œå³å­—ç¬¦ä¸² "000"
2. **åˆ·æ–°å“åº”**ï¼šå°ç¨‹åºå‘é€ `_refresh` æŒ‡ä»¤ï¼Œé€šä¿¡æœºè¿”å›ž `expressBoxNum`ï¼Œå³ "000"
3. **é”™è¯¯å¤„ç†**ï¼šå°ç¨‹åºå°† "000" å½“ä½œæ•°å­—å¤„ç†ï¼Œ`parseInt("000") = 0`ï¼Œè®¤ä¸ºæ˜¯ç‰©å“ID 0
4. **è®¡æ•°å¢žåŠ **ï¼šä»£ç æ‰§è¡Œ `position0++`ï¼Œå¯¼è‡´è®¡æ•°é”™è¯¯å¢žåŠ 

### ä»£ç é—®é¢˜ä½ç½®
**æ–‡ä»¶**ï¼š`miniprogram/app.ts` ç¬¬292-311è¡Œ

**é—®é¢˜ä»£ç **ï¼š
```typescript
else if (/^\d+$/.test(message.trim())) {
  const statusValue = parseInt(message.trim());
  if (statusValue >= 0 && statusValue <= 2) {
    if (statusValue === 0) {
      this.globalData.sortingCounts.position0++;  // é”™è¯¯ï¼"000"è¢«å½“ä½œç‰©å“0
    }
  }
}
```

## âœ… ä¿®å¤æ–¹æ¡ˆ

### ä¿®å¤é€»è¾‘
1. **ç‰¹æ®Šå¤„ç†"000"**ï¼šæ˜Žç¡®è¯†åˆ«"000"è¡¨ç¤ºæ²¡æœ‰æ£€æµ‹åˆ°ç‰©å“
2. **åŒºåˆ†çœŸå®žç‰©å“ID**ï¼šåªæœ‰éž"000"çš„æ•°å­—æ‰è¡¨ç¤ºçœŸå®žçš„ç‰©å“ID
3. **ä¿æŒå…¼å®¹æ€§**ï¼šä¸å½±å“çœŸå®žç‰©å“æ£€æµ‹çš„å¤„ç†

### ä¿®å¤ä»£ç 
```typescript
else if (/^\d+$/.test(message.trim())) {
  console.log('æ”¶åˆ°æ•°å­—IDä¿¡æ¯:', message);
  const messageStr = message.trim();
  
  // ç‰¹æ®Šå¤„ç†ï¼š"000"è¡¨ç¤ºæ²¡æœ‰æ£€æµ‹åˆ°ç‰©å“ï¼Œä¸åº”è¯¥å¢žåŠ è®¡æ•°
  if (messageStr === '000') {
    console.log('æ”¶åˆ°"000"ï¼Œè¡¨ç¤ºæ²¡æœ‰æ£€æµ‹åˆ°ç‰©å“ï¼Œä¸æ›´æ–°è®¡æ•°');
    return;
  }
  
  const statusValue = parseInt(messageStr);
  
  // å¦‚æžœæ˜¯1-2çš„æ•°å­—ï¼Œå¢žåŠ å¯¹åº”çš„åˆ†æ‹£è®¡æ•°
  if (statusValue >= 1 && statusValue <= 2) {
    if (statusValue === 1) {
      this.globalData.sortingCounts.position1++;
    } else if (statusValue === 2) {
      this.globalData.sortingCounts.position2++;
    }
    // æ›´æ–°è®¡æ•°...
  }
  // å¦‚æžœæ”¶åˆ°å•ç‹¬çš„"0"ï¼ˆä¸æ˜¯"000"ï¼‰ï¼Œå¯èƒ½è¡¨ç¤ºæ£€æµ‹åˆ°ç‰©å“0
  else if (statusValue === 0 && messageStr !== '000') {
    this.globalData.sortingCounts.position0++;
    // æ›´æ–°è®¡æ•°...
  }
}
```

## ðŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•åœºæ™¯1ï¼šåˆ·æ–°æŒ‰é’®æµ‹è¯•
**æ“ä½œ**ï¼šè¿žç»­ç‚¹å‡»åˆ·æ–°æŒ‰é’®5æ¬¡
**é¢„æœŸç»“æžœ**ï¼š
- æŽ§åˆ¶å°æ˜¾ç¤ºï¼š`æ”¶åˆ°"000"ï¼Œè¡¨ç¤ºæ²¡æœ‰æ£€æµ‹åˆ°ç‰©å“ï¼Œä¸æ›´æ–°è®¡æ•°`
- è®¡æ•°ä¸å˜ï¼š`{position0: 0, position1: 0, position2: 0}`

### æµ‹è¯•åœºæ™¯2ï¼šçœŸå®žç‰©å“æ£€æµ‹
**æ“ä½œ**ï¼šé€šä¿¡æœºæ£€æµ‹åˆ°ç‰©å“å¹¶å‘é€ç›¸åº”ID
**é¢„æœŸç»“æžœ**ï¼š
- ç‰©å“ID "1" â†’ position1 å¢žåŠ 
- ç‰©å“ID "2" â†’ position2 å¢žåŠ 
- å•ç‹¬çš„ "0" â†’ position0 å¢žåŠ 

### æµ‹è¯•åœºæ™¯3ï¼šè¾¹ç•Œæƒ…å†µ
**æ“ä½œ**ï¼šå‘é€å„ç§æ ¼å¼çš„æ¶ˆæ¯
**é¢„æœŸç»“æžœ**ï¼š
- "000" â†’ ä¸å¢žåŠ è®¡æ•°
- "0" â†’ position0 å¢žåŠ 
- "1" â†’ position1 å¢žåŠ 
- "2" â†’ position2 å¢žåŠ 
- "001", "010" ç­‰ â†’ æŒ‰å®žé™…é€»è¾‘å¤„ç†

## ðŸ“Š ä¿®å¤æ•ˆæžœ

### âœ… è§£å†³çš„é—®é¢˜
1. **è¯¯è®¡æ•°é—®é¢˜**ï¼šåˆ·æ–°ä¸å†å¯¼è‡´position0è‡ªå¢ž
2. **æ•°æ®å‡†ç¡®æ€§**ï¼šè®¡æ•°åªåœ¨çœŸå®žæ£€æµ‹åˆ°ç‰©å“æ—¶å¢žåŠ 
3. **ç”¨æˆ·ä½“éªŒ**ï¼šåˆ·æ–°åŠŸèƒ½æ­£å¸¸ï¼Œä¸ä¼šäº§ç”Ÿé”™è¯¯æ•°æ®

### ðŸ”„ ä¿æŒçš„åŠŸèƒ½
1. **æ­£å¸¸ç‰©å“æ£€æµ‹**ï¼šçœŸå®žçš„ç‰©å“IDä»èƒ½æ­£ç¡®è®¡æ•°
2. **å¿ƒè·³æœºåˆ¶**ï¼šåˆ·æ–°æŒ‡ä»¤ä½œä¸ºå¿ƒè·³çš„åŠŸèƒ½ä¸å—å½±å“
3. **å…¶ä»–æ¶ˆæ¯å¤„ç†**ï¼šä¸å½±å“å…¶ä»–ç±»åž‹æ¶ˆæ¯çš„å¤„ç†é€»è¾‘

## ðŸ’¡ æŠ€æœ¯è¦ç‚¹

### å…³é”®æ”¹è¿›
1. **æ˜Žç¡®è¯­ä¹‰**ï¼šåŒºåˆ†"æ— ç‰©å“"å’Œ"ç‰©å“0"
2. **é˜²å¾¡æ€§ç¼–ç¨‹**ï¼šå¯¹ç‰¹æ®Šå€¼è¿›è¡Œæ˜¾å¼å¤„ç†
3. **æ—¥å¿—ä¼˜åŒ–**ï¼šæ¸…æ™°æ˜¾ç¤ºå¤„ç†é€»è¾‘

### å…¼å®¹æ€§è€ƒè™‘
- ä¸å½±å“çŽ°æœ‰çš„é€šä¿¡åè®®
- ä¿æŒä¸Žé€šä¿¡æœºçš„å…¼å®¹æ€§
- ä¸ç ´åå…¶ä»–åŠŸèƒ½æ¨¡å—
